<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
		<meta
			http-equiv="Content-Security-Policy"
			content="default-src 'self'; script-src 'self'; connect-src 'self' http://halshusato.starfree.jp/; img-src 'self' data: https://twemoji.maxcdn.com/"
		/>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>AviUtl Package Manager</title>
		<link
			rel="stylesheet"
			href="../node_modules/bootstrap/dist/css/bootstrap.min.css"
		/>
		<link rel="stylesheet" href="main.css" />
		<link rel="stylesheet" href="index.css" />
	</head>

	<body class="bg-light">
		<nav>
			<div class="nav nav-tabs" id="nav-tab" role="tablist">
				<button
					class="nav-link active"
					id="aviutl-tab"
					data-bs-toggle="tab"
					data-bs-target="#aviutl"
					type="button"
					role="tab"
					aria-controls="aviutl"
					aria-selected="true"
				>
					AviUtl
				</button>
				<button
					class="nav-link"
					id="packages-tab"
					data-bs-toggle="tab"
					data-bs-target="#packages"
					type="button"
					role="tab"
					aria-controls="packages"
					aria-selected="false"
				>
					Plugins&Scripts
				</button>
				<button
					class="nav-link"
					id="settings-tab"
					data-bs-toggle="tab"
					data-bs-target="#settings"
					type="button"
					role="tab"
					aria-controls="settings"
					aria-selected="false"
				>
					Settings
				</button>
			</div>
		</nav>

		<main class="tab-content" id="nav-tabContent">
			<section
				class="tab-pane fade show active"
				id="aviutl"
				role="tabpanel"
				aria-labelledby="aviutl"
			>
				<div class="container-lg py-2">
					<div class="row justify-content-center my-3">
						<div class="col-auto">
							<img src="../icon/apm128.png" alt="Girl in a jacket" />
						</div>
						<div class="col-auto">
							<h2>AviUtl Package Manager</h2>
							<p>
								AviUtl:
								<span id="aviutl-installed-version"></span><br />
								拡張編集:
								<span id="exedit-installed-version"></span>
							</p>
						</div>
					</div>

					<div id="tutorial-alert" class="row my-2 d-none">
						<div
							class="my-0 alert alert-info alert-dismissible fade show"
							role="alert"
						>
							apmへようこそ！
							<a
								href="https://hal-shu-sato.github.io/apm/#apm%E3%81%AE%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB"
								class="alert-link"
							>
								チュートリアル</a
							>
							から使い方を確認できます。
							<button
								type="button"
								class="btn-close"
								data-bs-dismiss="alert"
								aria-label="Close"
							></button>
						</div>
					</div>

					<div class="row my-2">
						<div class="card">
							<div class="card-body">
								<h3 class="card-title">最新バージョン</h3>
								<p class="card-text">
									AviUtl: <span id="aviutl-latest-version"></span><br />
									拡張編集:
									<span id="exedit-latest-version"></span><br />
								</p>
							</div>
						</div>
					</div>

					<div class="row my-2">
						<div class="card">
							<div class="card-body">
								<h3 class="card-title">インストール</h3>
								<div class="row mb-3">
									<label for="installation-path" class="col-sm-3 col-form-label"
										>インストール先フォルダ</label
									>
									<div class="col-sm-6">
										<input
											class="form-control"
											id="installation-path"
											type="text"
											placeholder="インストール先フォルダ"
											aria-label="Installation path"
											readonly
										/>
									</div>
									<div class="col-sm-3">
										<button
											type="button"
											class="btn btn-outline-primary w-100"
											id="select-installation-path"
										>
											インストール先フォルダを選択
										</button>
									</div>
								</div>
								<div class="row mb-3">
									<p class="col-sm-3 col-form-label">
										おすすめ一括インストール
									</p>
									<p class="col-sm-6 col-form-label">
										最新版のAviUtl・拡張編集<span
											id="batch-install-packages"
										></span>
									</p>
									<div class="col-sm-3">
										<button
											type="button"
											class="btn btn-outline-primary w-100"
											id="batch-install"
										>
											おすすめ一括インストール
										</button>
									</div>
								</div>
								<div class="row mb-3">
									<label
										for="aviutl-version-select"
										class="col-sm-3 col-form-label"
										>AviUtlバージョンの選択</label
									>
									<div class="col-sm-6">
										<select
											class="form-select"
											id="aviutl-version-select"
											aria-label="AviUtl version select"
										>
											<option value="" selected>AviUtlバージョンを選択</option>
										</select>
									</div>
									<div class="col-sm-3">
										<button
											type="button"
											class="btn btn-outline-primary w-100"
											id="install-aviutl"
										>
											AviUtlをインストール
										</button>
									</div>
								</div>

								<div class="row mb-3">
									<label
										for="exedit-version-select"
										class="col-sm-3 col-form-label"
										>拡張編集バージョンの選択</label
									>
									<div class="col-sm-6">
										<select
											class="form-select"
											id="exedit-version-select"
											aria-label="Exedit version select"
										>
											<option value="" selected>
												拡張編集バージョンを選択
											</option>
										</select>
									</div>
									<div class="col-sm-3">
										<button
											type="button"
											class="btn btn-outline-primary w-100"
											id="install-exedit"
										>
											拡張編集をインストール
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section
				class="tab-pane fade"
				id="packages"
				role="tabpanel"
				aria-labelledby="packages"
			>
				<div class="container-fluid d-flex flex-column pt-2">
					<div class="row border-bottom">
						<div class="col-12 col-lg">
							<div class="btn-group">
								<button
									type="button"
									class="btn btn-primary mb-2"
									id="install-package"
								>
									インストール
								</button>
								<button
									type="button"
									class="btn btn-primary mb-2 dropdown-toggle"
									id="install-script-indication"
									data-bs-toggle="dropdown"
									aria-expanded="false"
								>
									<span class="visually-hidden">Toggle Dropdown</span>
								</button>
								<ul class="dropdown-menu dropdown-menu-end">
									<li>
										<a class="dropdown-item" id="install-script" href="#"
											>リストにないスクリプトのインストール</a
										>
									</li>
								</ul>
							</div>
							<button
								type="button"
								class="btn btn-primary mb-2"
								id="uninstall-package"
							>
								アンインストール
							</button>
							<button
								type="button"
								class="btn btn-primary mb-2"
								id="open-package-folder"
							>
								ダウンロードフォルダを開く
							</button>
						</div>
						<div class="col-6 col-lg-1 dropdown">
							<button
								class="btn btn-secondary dropdown-toggle mb-2 w-100"
								type="button"
								id="filter"
								data-bs-toggle="dropdown"
								aria-expanded="false"
							>
								絞り込み
							</button>
							<ul class="dropdown-menu" aria-labelledby="type-filter">
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="input"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>入力
									</button>
								</li>
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="output"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>出力
									</button>
								</li>
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="filter"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>フィルター
									</button>
								</li>
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="color"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>色変換
									</button>
								</li>
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="language"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>言語
									</button>
								</li>
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="animation"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>アニメーション効果
									</button>
								</li>
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="object"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>カスタムオブジェクト
									</button>
								</li>
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="scene"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>シーンチェンジ
									</button>
								</li>
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="camera"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>カメラ制御
									</button>
								</li>
								<li>
									<button
										class="dropdown-item type-filter"
										type="button"
										data-type-filter="track"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>トラックバー
									</button>
								</li>
								<li>
									<a
										href="https://hal-shu-sato.github.io/apm/#%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%A8%E3%81%AF"
										class="dropdown-item"
										type="button"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-info-circle"
											viewBox="0 0 16 16"
										>
											<path
												d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
											/>
											<path
												d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"
											/>
										</svg>
										タイプについて
									</a>
								</li>
								<li><hr class="dropdown-divider" /></li>
								<li>
									<button
										class="dropdown-item install-filter"
										type="button"
										data-install-filter="true"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>インストール済み
									</button>
								</li>
								<li>
									<button
										class="dropdown-item install-filter"
										type="button"
										data-install-filter="manual"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>手動インストール済み
									</button>
								</li>
								<li>
									<button
										class="dropdown-item install-filter"
										type="button"
										data-install-filter="false"
									>
										<!-- from Bootstrap Icons -->
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-check"
											viewBox="0 0 16 16"
										>
											<path
												d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
											/></svg
										>未インストール
									</button>
								</li>
							</ul>
						</div>
						<div class="col-12 col-lg-3">
							<div class="input-group mb-2">
								<span class="input-group-text">
									<!-- from Bootstrap Icons -->
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="16"
										height="16"
										fill="currentColor"
										class="bi bi-search"
										viewBox="0 0 16 16"
									>
										<path
											d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
										/>
									</svg>
								</span>
								<input
									class="fuzzy-search form-control"
									placeholder="検索"
									aria-label="検索"
								/>
							</div>
						</div>
					</div>

					<div class="row flex-grow-1 packages-table">
						<div class="col g-0">
							<table class="table table-hover" id="packages-table">
								<thead class="table-primary"></thead>
								<tbody class="list"></tbody>
								<tbody class="table-secondary"></tbody>
							</table>
						</div>
						<div
							class="d-flex justify-content-center align-items-center fade"
							id="packages-table-overlay"
						>
							<div class="spinner-border" role="status">
								<span class="visually-hidden">Loading...</span>
							</div>
						</div>
					</div>

					<div class="row border-top pt-1 flex-shrink-0 package-detail">
						<div class="col">
							<div class="row">
								<div class="col-12 col-sm-4 col-md-3 col-lg-2">名前:</div>
								<div
									class="col-12 col-sm-8 col-md-9 col-lg-10"
									id="package-name"
								></div>
							</div>
							<div class="row">
								<div class="col-12 col-sm-4 col-md-3 col-lg-2">概要:</div>
								<div
									class="col-12 col-sm-8 col-md-9 col-lg-10"
									id="package-overview"
								></div>
							</div>
							<div class="row">
								<div class="col-12 col-sm-4 col-md-3 col-lg-2">説明:</div>
								<div
									class="col-12 col-sm-8 col-md-9 col-lg-10"
									id="package-description"
								></div>
							</div>
							<div class="row">
								<div class="col col-sm-4 col-md-3 col-lg-2">開発者:</div>
								<div
									class="col col-sm-8 col-md-9 col-lg-10"
									id="package-developer"
								></div>
							</div>
							<div class="row">
								<div class="col col-sm-4 col-md-3 col-lg-2">タイプ:</div>
								<div
									class="col col-sm-8 col-md-9 col-lg-10"
									id="package-type"
								></div>
							</div>
							<div class="row">
								<div class="col col-sm-4 col-md-3 col-lg-2">
									最新バージョン:
								</div>
								<div
									class="col col-sm-8 col-md-9 col-lg-10"
									id="package-latest-version"
								></div>
							</div>
							<div class="row">
								<div class="col-12 col-sm-4 col-md-3 col-lg-2">サイト:</div>
								<div
									class="col-12 col-sm-8 col-md-9 col-lg-10"
									id="package-page"
								></div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section
				class="tab-pane fade"
				id="settings"
				role="tabpanel"
				aria-labelledby="settings"
			>
				<div class="container-lg py-2">
					<div class="row my-2">
						<div class="card">
							<div class="card-body">
								<h3 class="card-title">設定</h3>
								<div class="row mb-3">
									<label for="data-url" class="col-sm-3 col-form-label"
										>データ取得先</label
									>
									<div class="col-sm-6">
										<input
											class="form-control"
											id="data-url"
											type="text"
											placeholder="空白でデフォルト"
											aria-label="Data URL"
										/>
									</div>
									<div class="col-sm-3">
										<button
											type="button"
											class="btn btn-outline-primary w-100"
											id="set-data-url"
										>
											データ取得先を設定
										</button>
									</div>
								</div>
								<div class="row mb-3">
									<label for="extra-data-url" class="col-sm-3 col-form-label"
										>追加データ取得先</label
									>
									<div class="col-sm-6">
										<textarea
											class="form-control"
											id="extra-data-url"
											placeholder="例: https://example.com/packages_list.xml"
											aria-label="Extra Data URL"
										></textarea>
									</div>
									<div class="col-sm-3">
										<button
											type="button"
											class="btn btn-outline-primary w-100"
											id="set-extra-data-url"
										>
											追加データ取得先を設定
										</button>
									</div>
								</div>
								<div class="row mb-3">
									<div class="col-sm-3 col-form-label">
										AviUtl・拡張編集データの手動更新
									</div>
									<div class="col-sm-6 col-form-label">
										リスト更新日時: <span id="core-mod-date"></span>
									</div>
									<div class="col-sm-3">
										<button
											type="button"
											class="btn btn-outline-primary w-100"
											id="check-core-version"
										>
											更新を確認
											<div class="d-inline-block small">
												（最終確認日時:
												<span id="core-check-date"></span>）
											</div>
										</button>
									</div>
								</div>
								<div class="row mb-3">
									<div class="col-sm-3 col-form-label">
										パッケージデータの手動更新
									</div>
									<div class="col-sm-6 col-form-label">
										リスト更新日時:
										<span id="packages-mod-date"></span>
									</div>
									<div class="col-sm-3">
										<button
											type="button"
											class="btn btn-outline-primary w-100"
											id="check-packages-list"
										>
											更新を確認
											<div class="d-inline-block small">
												（最終確認日時:
												<span id="packages-check-date"></span>）
											</div>
										</button>
									</div>
								</div>
								<div class="row mb-3">
									<label
										for="zoom-factor-select"
										class="col-sm-3 col-form-label"
										>拡大率</label
									>
									<div class="col-sm-6">
										<select
											class="form-select"
											id="zoom-factor-select"
											aria-label="Zoom level select"
										>
											<option value="50">50%</option>
											<option value="67">67%</option>
											<option value="75">75%</option>
											<option value="80">80%</option>
											<option value="90">90%</option>
											<option value="100" selected>100%（標準）</option>
											<option value="110">110%</option>
											<option value="125">125%</option>
											<option value="150">150%</option>
											<option value="175">175%</option>
											<option value="200">200%</option>
										</select>
									</div>
									<div class="col-sm-3"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
		</main>

		<script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
	</body>
</html>
